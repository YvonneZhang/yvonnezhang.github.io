<!DOCTYPE html>
 <html lang="en"><head><link rel="icon" href="http://7xl4xb.com1.z0.glb.clouddn.com/Artboard1.png" type="image/x-icon"/><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title data-react-helmet="true">Generator 函数初探 | Yvonne Zhang</title><meta data-react-helmet="true" name="description" content="Yvonne Zhang&#x27;s Blog"/><meta data-react-helmet="true" name="keywords" content="blog, articles"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.78 'Merriweather','Georgia','serif';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia','serif';font-weight:300;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans','sans-serif';font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:2.67rem;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans','sans-serif';font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.78rem;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans','sans-serif';font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.78rem;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans','sans-serif';font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.78rem;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans','sans-serif';font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.78rem;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans','sans-serif';font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.78rem;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}ul{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:0.85rem;line-height:1.78rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1rem;line-height:1.78rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}blockquote{margin-left:1.78rem;margin-right:1.78rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.78rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.78rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}li > ul{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.78rem / 2);}code{font-size:0.85rem;line-height:1.78rem;}kbd{font-size:0.85rem;line-height:1.78rem;}samp{font-size:0.85rem;line-height:1.78rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.18667rem;padding-right:1.18667rem;padding-top:0.89rem;padding-bottom:calc(0.89rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#E1A206;text-decoration:none;}</style><link href="//fonts.googleapis.com/css?family=Open+Sans:700|Merriweather:300,300i,700,700i" rel="stylesheet" type="text/css"/><style>@media (max-width:767px){body,html{font-size:.777778rem}header{padding:0}.markdown-body{padding:.833333rem}.md-header .title{display:none}.bio{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.bio .info{width:80%!important;text-align:center}.bio img{width:100%!important}.article-card{width:100%;margin:1.666667rem .555556rem;border-bottom:.055556rem dotted #eee}}body,html{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a{color:#bf9000}header{position:fixed;top:0;left:0;z-index:1;width:100%;background:hsla(0,0%,100%,.92);box-shadow:0 .055556rem .222222rem 0 #eeeded;padding:0 1.111111rem}header nav{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:3.111111rem}header nav .logo{width:2.555556rem;height:2.555556rem;background:no-repeat;background-size:contain}header nav a{color:#909090;margin:1.388889rem;font-size:1rem;opacity:.5}header nav a.active,header nav a:hover{opacity:1}@media (max-width:767px){body,html{font-size:.777778rem}header{padding:0}.markdown-body{padding:.833333rem}.md-header .title{display:none}.bio{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.bio .info{width:80%!important;text-align:center}.bio img{width:100%!important}.article-card{width:100%;margin:1.666667rem .555556rem;border-bottom:.055556rem dotted #eee}}body,html{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a{color:#bf9000}footer{color:#9f9993;height:4.444444rem;text-align:center;line-height:4.444444rem}@media (max-width:767px){body,html{font-size:.777778rem}header{padding:0}.markdown-body{padding:.833333rem}.md-header .title{display:none}.bio{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.bio .info{width:80%!important;text-align:center}.bio img{width:100%!important}.article-card{width:100%;margin:1.666667rem .555556rem;border-bottom:.055556rem dotted #eee}}body,html{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a{color:#bf9000}.markdown-body{box-sizing:border-box;min-width:11.111111rem;max-width:54.444444rem;margin:0 auto}.markdown-body .post-date{color:#9f9993;margin-bottom:2.777778rem}.markdown-body code{vertical-align:middle;background:#f5f5f5;border-radius:.111111rem;word-wrap:break-word;word-break:break-all;padding:0 .222222rem;margin:0 .055556rem;border:.055556rem solid #e8e8e8}.markdown-body pre{overflow-x:auto;background:#fafafa;padding:.888889rem;border-radius:.111111rem .111111rem;border:.055556rem solid #e8e8e8}.markdown-body pre code{border:none;background:none;top:0;margin:0;font-size:inherit;line-height:inherit}.markdown-body blockquote{position:relative;color:#999;font-weight:400;border-left:.055556rem solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}.md-header .page-progress{position:absolute;bottom:0;left:0;z-index:1;opacity:.7}.md-header nav{-ms-flex-pack:justify;justify-content:space-between}.md-header nav .item{line-height:1.444444rem}.md-header nav .item .title{font-size:.888889rem;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.md-header nav .item .fingerpost{color:#bbb;font-size:.777778rem}.md-header nav .item.left{text-align:left}.md-header nav .item.right{text-align:right}.md-header nav .item.center .article-title{color:#252525}.hljs-comment,.hljs-quote{color:#8e908c}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c82829}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5871f}.hljs-attribute{color:#eab700}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#718c00}.hljs-section,.hljs-title{color:#4271ae}.hljs-keyword,.hljs-selector-tag{color:#8959a8}.hljs{display:block;overflow-x:auto;background:#fff;color:#4d4d4c;padding:.5em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.resume{background-color:#fff;box-shadow:0 0 2.222222rem .166667rem #aaa;padding:1.666667rem}.resume h1,.resume h2,.resume h3,.resume h4,.resume h5,.resume h6{color:#cc9f46;display:inline-block;margin-top:.555556rem;padding:.555556rem 1.111111rem;border-bottom:.111111rem solid #cc9f46;font-family:Verdana;font-weight:lighter;text-transform:uppercase;letter-spacing:.111111rem}.resume .background{display:block;top:0;left:0;width:100%;height:100%;position:fixed;z-index:-1;background:url(/100d818e5ccd9f4db9e00797692b312f.jpg);background-size:100%}.resume .inner{border:.222222rem solid #cc9f46;padding:3.333333rem 1.666667rem;text-align:center}.resume nav{float:right;margin:.555556rem .888889rem}.resume.black{background-color:#312e2d;box-shadow:0 0 2.222222rem .166667rem #000;color:#fff}.resume.black .background{background-image:url(/1750df8ecdf78404d162e005eaab885b.jpg)}.article-card{width:50%;height:20rem;float:left;padding:1.666667rem 1.666667rem 1.666667rem .555556rem;position:relative;color:#7d7e7a}.article-card:hover{background:#f2f2f2}.article-card .title{color:#333;padding:0;margin:0;font-weight:lighter}.article-card .divider{margin:1.666667rem 0;height:.055556rem;width:20%;background:#dfdfdf}.article-card .brief{font-size:.888889rem;line-height:2.222222rem;height:6.111111rem;overflow:hidden}.article-card .date{position:absolute;right:1.666667rem;bottom:1.666667rem}@media (max-width:767px){body,html{font-size:.777778rem}header{padding:0}.markdown-body{padding:.833333rem}.md-header .title{display:none}.bio{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.bio .info{width:80%!important;text-align:center}.bio img{width:100%!important}.article-card{width:100%;margin:1.666667rem .555556rem;border-bottom:.055556rem dotted #eee}}body,html{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a{color:#bf9000}.side-image{position:fixed;top:0;right:0;height:100%;z-index:-1;width:35%;background:no-repeat 50%;background-size:cover}.bio{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center}.bio i{width:2.222222rem;height:2.222222rem;display:inline-block;background-size:cover}.bio i.icon-location{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAJ1BMVEVHcEzhowDhogXhogbhogXhogXhoQbhogXhogThogXhogXhogXhogZylxlfAAAADHRSTlMACGElFH9ImjW459CyKWkmAAAF8UlEQVR42u1bv4/jVBC21042ud1iG37eFimQuMJFBELoTinSIBCkCBIdKbZFpNgDdAIpxQpO4pBS5CR0OkSKRKJMsaFAQkpxm738nj+K4mzHz37Pnpn3nkAiU8f+7Plmvpk34zjOwQ52sIP9H8x73+rt3R9/gNB23zy2AvH6lyDY9lHTNESlB1l7dGbUUV+B1HbvGHyNIajsL1Mv8xHk2KpuBONDyLXdlQGMX6DAthfaGPeh0La67/IxIGyjx8sRoGyhE2PeBAcCS40c7EiC6e/ffpdAP2SDPEjnxL3I+Z+8mwa6MkPInyK974kysGA6S9DEVfZRPxBQfmWBfJa8xffSuBA448Sxh0nqrzUjrJ9ItiuUsNXIGGVkQickYU4G6WKlKSFubf6L1NB+XbBf5DuCLtBYqVBixmOy0ohJx/Q9b8QolPrlE7mMnXtLADkhJtjeYYSGr0OVik+jCwb0+H2JFtMhOYpbURriX/4tcl2ZhRf8QaAxepUbarGitO3VqO4QvfWSklnujOavIasKtUj+KvOKkEeSlnOmcHcpTAZhg0WtQMchyCWGQQ7tyQtvCQFMr9h9fBCfM73lOCV8VAZ00U75C0EKM7YS8VXMZlR4OSeOO9hMqXJ7qMQDYtVBEAe/B88UYwqxR54g5SuQUBIAwFNFAW1LgriQ+VlWG44AADaKkBVK4SlOI31JQrUUydnP+CZM5DVOgtdZD44yv+1lfOPjCn0YXC+y9eWFIqMkPy0Kr1MJ7xM8SBel9g2J/BBAzlHdaiB5XwLICSqGexK1JoCE4TXCyOOSC+JhEsWV6SgBxMXUCemTEEBCwVhidPTaYeZJyOkcU+AvHV7GR79dYcp0TaL+F4qcqkv0bIfpnS6yeoZS4bgcYc5x9WyGPsTUkzjlMVU6pT1+B55LY7EH3zp0kFP6wUR6A8xvzg4g/zkQu8Sf8GeW+BCu5rWA7k/o4ylGVqQHoPJkP418TaW0r/Rsi1Hhtmqqs0yUnafq08MG09sNlPj1vedX6vnSAlMZR0pvjxMzobqyEVliavy10hHb5n4k1FaC3GK6FfXlMN+PLEbKR7nBNHdNNQhs4i3zSJknl4jp4zynt0zYQBk5TcREqZ07xc2fzwaY43l5Iq+C8dRsb1IZ9YY6uzo/jbF2LFg3BVKzAZLaoy0cKybGV9sOSDmJMXcs2QMDy0uKwz43cC/Fzi9e+nwhv/A+bLExdxcANoqE+hkAYHWhPhPskE3IMFfj3nzSzPXmmBBEa64m4MLuhNvgVZEjNdXkg6I7FBDyONUFOsiWCnJMASkxVbZPeTgfWP5yaRuRUDy2ZyxvXZM6c2J8dWn7owqnvvrUWtbT2M5hV4CxvwYEkIBaZyr06ufRK3+HvAR8m+otziUdelX2iDvWuMcg9UkBUVqidenYYQQkVlpmnE2uD6StU4nXjHUJ68/99zEDGgjp2XzOAt9x4vUUystV7mGCsl4PuD14GZ8qkQoxNrk9dKqcc/fee2kpdvSQ8SFRSloKQ+aIqkGyVBkgk2TMASnhRM/X+UTRcSco+a7qfQOL+0gmIAmQMlV2Z4gk2XLHEB3EQ7aA/bmDcFLJVckZP0nQgVPSSRIxBW4Kk2nMB4mSeWMnSVKypBLxO/ofiu8Fdlkg1VrTHC/fHWV+JcET2+BXEnSIuoZGRvH3erUcbdQe4rVyCmTAa7fUAigpkBVuu6V+3CnpJZmDhpVSG2v6IHGBrJnXxmwyrM1rYzatU/x6JrQxWyCvSbLGm8ilcq5ndtLtylYAhaXGBPV9M9qYS71vfpyepf6u+b1AlvqeXt+Ior6s2zdiqG+Ypl1CvQ+6fWMu9VOzJVFO/UqAHJgFEagv0yYvPOobuscFBPWuHdqTPIxt0S5SH9ihXaj198x1QmrqwRbtAvU2t9ipBbOlLfaxADK1A+IK/5Bt2gGJm19rHy8Ibbw12kXqV9YwEtRP7YHEpwVrtBs+9xSf62s2QcJDycoqRni8mtoFedU6Ni2DHGH+Cqxt/pO6c7CDHexg/679A6tW8F1zHzqiAAAAAElFTkSuQmCC)}.bio i.icon-dance{background-image:url(data:image/png;base64,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)}.bio i.icon-computer{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAHlBMVEVHcEzjogPgogThoQTyqgDjowTgoQThoQThoQThogatRZ6bAAAACXRSTlMAPcF/CivkXp8qUkDLAAACSklEQVR42u3cvU/CQBgGcKTlY0SJUTY18YONKBrYiIMJGzoY2Rgghg0HjGwmagyb8aNw/61JWxIK70HpPRCizzOepj+4t/emNnfGYgzD/NtslNrKOM57bZaxqzBxzvXGloLlTWfcKGCKmnq0kchnRUR6CpqWZKQVOB0BKaORH6EiaEM501W5hSNqbwrJ45HBpJEa/eTlYdMwO6eja03OV9KfxyKiA975SEFeJK+YPuv3jm+xJANUN+9Ll0vI3y9y4l5rCQ5a0qBBbKnycd0ajZqy0FmSmtUTOVVh+qvalmZUlOfAWN0dq+EQS5iaurhCDeJ1kEZgLOeOIR973At+CEiFCBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQWRvkABgtAg8RIkTWGDnDpcRWT4QIkeVv7FvSFkUJqaGRRmAMvm00LezoTApbSY0iXTAuboc2SE7YZevtVx3iEO9wRiYw5m+vzqAM70M7otxCIT1xZsoKeX9Z8pGKqn80BbJUUm35sIM1OgDTNV72iezoSM5kie02/qlrqLmxoWnqaoWMUF/4ARTp4MQVGikIiJ1f/hdBV8XRtKhHJHKoWUU28KjWvXat2hco43hWS8geIcpx0p3Teexr+WCU23aGYwPeLST85nb0tufe4F9jHwZ99oYIESJEiBAh8gcRO8TTirHRD/GktW+IhDuc3wHUIsr/J1j4lVKEv0EXf6U0//F3FYjZm0VrFd8ksYqaxPqhkKYZchlqtkzf+zzNf+vyWYwxDMP4+QWXNezhtH97OAAAAABJRU5ErkJggg==)}.bio i.icon-code{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAJFBMVEVHcEzgogXjowPgoQTmpgDhoQThoQXkogPgoQXgoQThoQThogYWNayqAAAAC3RSTlMAwEDaDVuKKO+mcURHusMAAAR6SURBVHja7Zy/a9tQEMftxJZjTwmFUvBiOvQHXtJflOIlYNIasngoXbx0KKFUi+lk6qVDIIOWUigUvARCKaVTkyZOon+ukWQZ6727e/eskyHl3aiE95Hvq3fv7p6eSiVnzpw5u/H26q6IDQnEvTuhkL34iSBq30NBewYyKn4oao8hyINQ2L7ojIY0Izzd0SC+OCR8rjKq8gz9p7QLgGiqBEVAzoqWPfZXFtJLL2+JWOqXI+jZ+ioUAmvHyXifM1c78DO3vCV3fZIhx5cuduQgXjziua77ieSi0dGUT7ibkpBBPOTilXp8pS8J2YiHXFy9ytqV3JYM2Vq4sh5f2ZGEeJpz/kfI7v4sBai8+TBz6O7+D1lILUgDdDcMLxPa9RO/LQqJnuXpPC600ol6Jgopzyf+JA2inhoeckOiPx3OZ+wwXZinssK/D08Tvb0gzc+Ow9O+mycO4iCrhGxJ2i0EUoA5SE7ISoR3k9FBHMRBHMRBHMRBHMRBHGT1kMZtgl759U4E0qF6amVoV8keUic7UXtYz9oOMjBBzvNDanR/vY51xq0gHr0bEbVBp7khdUNzcITchK27yObgGuJOO+EffqNn3e+0gVzkjK9rG2RFhJUOuIckDOldSz/MAWk86Zsh0Ux6mgPis7r0A0h6NqTK69JH471dGjJibgU0Aem5kChkHGIDf1zQugtIz4WUiW3BtWBBhmhr5+mSED8Mr4iQ1cpI/2c5SBV+Y2PuyT4pPRMyCrGlNfHkMCv92TKQSkDIrnqyq2248iDrxEat5slI+oMlIBNiU073ZFuVngUhZdc92VD/nQUZay9r0J6cKCpxILqTDZ4sKxvjHEgXXCQIT6ou5EAo2dugJ8fZh4EBaUDRm/ak8vsYECAYGT3pZxYGMwQKq0ZPZqU3Q8qE7Kgno6B5YAEZE7LjnhwvLpBmyB6cFRo86S+mzWaIh6+J+ATKPl6Mp6uDvlmET6Bs1GRAetj9eugEUtIOBgT1/ABVSwlenLCCDEbLfm4Zuzy4IKBl37RdT5qgwE30gVDiIw8C3jNS8EDZJgsCep8tOzeRAAaEKxE42+RBgBnRQ2t6fbFkZpD63O6gNf1Yy5GYEE16tMUB5UhMiCa9hez80kHNCgP0bbKJXmRwIWpWGGBZfgPIkdg1oyK9j2X5UI7EhigFwctHQ36OxIZUqFzVUGTwmwVU1m1YLPkQqn4w5EgWDZwJUQCj9Y8tZF2fZczU2AJCNiWwmtS630XV2dQSagUxSo+lxladO9/QKWojqbFtX5jq2aI5khUkWxBAQR5PNfmNzhH5wv0elhrbQa6l/4tDNrDU2LJlO0BSrdktXJYkILX71NP1qSUCWc4cxEEcxEEcxEFuMKSAY2117VhbHTismdP0A3orOWpYlT802dSPyxZ0/PNK5+LteXtLDrJOAQ9eSB/J3dZqwwIOF/dLuvIFH5OeiSJsJ3oVIm9HQA9T2i6RGSpqegRZC4r/IQWoApV5K/lYxUo+u1ES/YDIayLorOBTKM6cOXN2Q+wfU+FLs4ZIOBcAAAAASUVORK5CYII=)}.bio i.icon-girl{background-image:url(data:image/png;base64,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)}.bio .info{width:27%}.bio img{width:69%}.divider{height:.055556rem;width:100%;background:#eeeded}.divider.divider-vertical{width:.055556rem;height:100%}.latest-articles{margin-top:3.333333rem}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css" type="stylesheet"/></head><body><div id="react-mount"><div data-reactroot="" data-reactid="1" data-react-checksum="-165282790"><!-- react-empty: 2 --><div style="box-sizing:border-box;position:relative;margin-left:auto;margin-right:auto;padding-left:15px;padding-right:15px;width:auto;padding:7.12rem 0 0 0;max-width:1140px;" data-reactid="3"><div data-reactid="4"><header class="md-header" data-reactid="5"><nav data-reactid="6"><a href="/blogs/2016-06-04-jsonp/" data-reactid="7"><div class="fingerpost" data-reactid="8">PREVIOUS</div><div class="title" data-reactid="9">JSONP 如何解决跨域问题？</div></a><a href="/" class="active" data-reactid="10"><div class="logo" style="background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAGFBMVEX///+/kADGnBzu4bvVtVX48uDjzYzo16MDh0w0AAADKElEQVR42u3bTXObMBAG4K0/8NUSAl9xZnonddIzzi9w2nR6xe1Mz86pf78HIxVJK6Ilm8y0s7oF4zygF14wHoN6hwGCCCKIIIIIIgiK/Dzwjs8Y0gLvWArCgKxu+EaXQhaMR20jiCCCCCKIIIIIIogggggiiCCC/EdI7T2/+GuXdtHZJJ927LORw8E+aVkfDp/cKvX9deHXo0PWw9OtezIy3ui9NwvmBLB+UGpAvj/YF3ZzELep53Cu4exevvOWAwDAhhT8JUpk2MNCKaU0AMDTaHkbrJ6HhJvmkFu7o5upHc9Ddngo1fVvE0xkFGEeou3bbj2kK+yWF97iYeWCeDL2aCjtwm6Ch5+Glb8QkW38LFEpM0yS8afRRXIkIvEblVLl8L+NP1uVPTWp3aVPSChNYbdggU3tilyQXfROF4nSHu2255GMVHEo2h63xpvEOp7ZXAQJxUaiDGAn7nLG9aSNJ8HGbZbTkeQjcSgXu4ouXjhvs5EyPDA1PNs9uXuhgbIRHbbeLiiyiS7Nv8ZfglCaDWZENU9DmqD2evRWA72+5SO1P9k6aORUzdOQIJQajwRrBsp9l1/3zRKNJO4UGlJ5oRAioSBeKIlI4ponIm4qnpVStVeKU51CRLpRKFs0EvSyQ0PKUb/2KwypsQsoDTGjUPBIGuxWgPjRoXWTYaYjWbwCaVysFR4JjA6NucjOzUaHRpK40aQhbkuPp8lICvUKxM35Ex5Ji0dCRBpAz+jJTiEj7jxYTdX8ev8qxDXLKrvmZyD9FILW/AykmUAM3im8SJU8KBiR9FQyInjN8yJ1MhJGJFHzvEii5lmRVM2zIqmaZ0Wwmjc/mBGs5rcLXgS/m2dGSqxTemakw668F2YErXngRdCaN8xIhXVKyYz0+AcsVgS/m+95kRrrFA28SINHwougNd/xIhrrFA28CFrzH5kRtOaBGbE1/2E0WT0zgnTK1eBEdmHN3/w6ATfingx9u47oyykK4n+79Rgj0ZiBmN/jcVbZQ77MFEQQQQQRRBBBBBFEEEEEEUSQN0YYf5LbyM+k/xXkXX6E/4ZDEEEEEUQQQQQZjz+Q/PPIzJzI1QAAAABJRU5ErkJggg==);" data-reactid="11"></div></a><a href="/blogs/2017-12-17-object-prototype/" data-reactid="12"><div class="fingerpost" data-reactid="13">NEXT</div><div class="title" data-reactid="14">Object Prototype - Javascript Concepts You Should Know</div></a></nav><svg class="rc-progress-line page-progress" viewBox="0 0 100 0.1" preserveAspectRatio="none" data-reactid="15"><path class="rc-progress-line-trail" d="M 0.05,0.05
           L 99.95,0.05" stroke-linecap="round" stroke="rgba(0,0,0,0)" stroke-width="1" fill-opacity="0" data-reactid="16"></path><path class="rc-progress-line-path" d="M 0.05,0.05
           L 99.95,0.05" stroke-linecap="round" stroke="#bf9000" stroke-width="0.1" fill-opacity="0" style="stroke-dasharray:100px, 100px;stroke-dashoffset:100px;transition:stroke-dashoffset 0.3s ease 0s, stroke 0.3s linear;" data-reactid="17"></path></svg></header><article class="markdown-body" data-reactid="18"><!-- react-empty: 19 --><h1 style="margin-top:0;" data-reactid="20">Generator 函数初探</h1><div class="post-date" data-reactid="21"><span data-reactid="22"><!-- react-text: 23 -->Posted on <!-- /react-text --><!-- react-text: 24 -->June 21, 2016<!-- /react-text --></span></div><div data-reactid="25"><h2>前言</h2>
<p>Generator 函数是 ES6 一个很重要的特性，但其涉及的概念却不太能一眼就看懂，所以写下这篇小文以作学习记录。</p>
<h2>定义一个 generator 函数</h2>
<p>定义一个 generator 函数十分简单，和正常的函数定义相比，多加一个 <code>*</code> 就可以了：</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> * <span class="hljs-title">name</span>(<span class="hljs-params">arguments</span>) </span>{
  statements
}
</code></pre>
<p>但 generator 函数与普通函数的区别却非常大，它的优势在于，退出函数之后可以<strong>再次进入</strong>，函数的上下文会被保留。每次退出 generator 函数，它都会返回一个值，这不是一个普通的值，而是一个迭代器（iterator）对象。下面就来说一说迭代器对象。</p>
<h2>迭代器对象</h2>
<p>迭代器有一个特别棒的特性，就是可以记录当前数组遍历到的节点位置。除此之外，按照 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">协议规范</a>，迭代器对象需要提供一个 <code>next</code> 方法继续遍历下一个属性值，该方法返回一个如下对象：</p>
<pre><code class="language-js">{
  <span class="hljs-attr">done</span>: &lt;boolean&gt;,  // 用于判断是否已经到数组最尾部
  value: &lt;any&gt;      // 当前位置的返回值
}

</code></pre>
<p>下面让我们实现一个简单的迭代器构造函数：</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Iterator</span>(<span class="hljs-params">array</span>)</span>{
  <span class="hljs-keyword">var</span> position = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span>(position &lt; array.length){
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">value</span>: array[position++]
        }
      }<span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>
        };
      }
    }
  }
}

<span class="hljs-keyword">var</span> iterableArray = <span class="hljs-keyword">new</span> Iterator([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]);
<span class="hljs-built_in">console</span>.log(iterableArray.next().value) <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(iterableArray.next().value) <span class="hljs-comment">// 2</span>
<span class="hljs-built_in">console</span>.log(iterableArray.next().value) <span class="hljs-comment">// 3</span>
<span class="hljs-built_in">console</span>.log(iterableArray.next().done)  <span class="hljs-comment">// true</span>
</code></pre>
<p>一些内置的可迭代的对象有 <code>String</code>、<code>Array</code>、<code>TypedArray</code>、<code>Map</code>、<code>Set</code>，简单的判断规则就是：可以使用 <code>for...of</code> 遍历的对象。这样的对象也可以使用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator">扩展运算符（…）</a>、 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">解构赋值（destructuring assignment）</a> 和 generator，generator 提供了更好的遍历可迭代对象的方法。</p>
<h2>yield 关键字</h2>
<p>现在我们知道了如何定义 generator 函数以及 generator 函数返回的是迭代器对象。那么就先来试着写一下，注意使用 <code>node --harmony</code> 执行：</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">gen</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>;
}
<span class="hljs-built_in">console</span>.log(gen()); <span class="hljs-comment">// {} - 返回一个迭代器对象</span>
<span class="hljs-built_in">console</span>.log(gen().next()); <span class="hljs-comment">// { value: 'hello', done: true }</span>
</code></pre>
<p>结果符合理论的，接下来我们来解决一个问题：如何在 generator 函数中多次返回 iterator 对象？</p>
<p>为了解决这个问题，ES6 引入了一个关键字 —— <code>yield</code> ，其用处是<strong>暂停和继续</strong> generator 函数，并返回一个迭代器对象。再来试一把：</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">gen</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">yield</span> <span class="hljs-string">'Hello, '</span> + name;
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Bye, '</span> + name;
}
<span class="hljs-built_in">console</span>.log(gen(<span class="hljs-string">'Alice'</span>).next()); <span class="hljs-comment">// { value: 'Hello, Alice', done: false }</span>
<span class="hljs-built_in">console</span>.log(gen(<span class="hljs-string">'Bob'</span>).next()); <span class="hljs-comment">// { value: 'Hello, Bob', done: false }</span>
</code></pre>
<hr>
<p>References</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators">Iterators and generators</a></li>
<li><a href="http://knowthen.com/episode-2-understanding-javascript-generators/">Episode 2 – Understanding JavaScript Generators</a></li>
</ul>
</div></article></div><span style="display:table;clear:both;" data-reactid="26"></span></div><footer data-reactid="27"><!-- react-text: 28 -->© 2018 YVONNE ZHANG •<!-- /react-text --><!-- react-text: 29 --> <!-- /react-text --><a href="https://github.com/YvonneZhang" target="_blank" data-reactid="30">GITHUB</a><!-- react-text: 31 --> <!-- /react-text --><!-- react-text: 32 -->/<!-- /react-text --><!-- react-text: 33 --> <!-- /react-text --><a href="https://www.linkedin.com/in/yifan-zhang-bbab60139/" target="_blank" data-reactid="34">LINKEDIN</a><!-- react-text: 35 --> <!-- /react-text --><!-- react-text: 36 -->/<!-- /react-text --><!-- react-text: 37 --> <!-- /react-text --><a href="https://www.instagram.com/yvonne.zhang.sh/" target="_blank" data-reactid="38">INSTAGRAM</a></footer></div></div><script src="/bundle.js?t=1539679733944"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-80503375-1"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments)}
            gtag('js', new Date());
            gtag('config', 'UA-80503375-1');</script></body></html>